"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fillBidOrder = void 0;
var tslib_1 = require("tslib");
var transaction_1 = require("../../common/transaction");
var rarible_open_bid_1 = require("../../tx-code-store/order/rarible-open-bid");
var get_order_id_1 = require("../common/get-order-id");
function fillBidOrder(fcl, auth, currency, name, map, orderId, owner, fees) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var preparedOrderId, txId;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    preparedOrderId = (0, get_order_id_1.getOrderId)(orderId);
                    return [4 /*yield*/, (0, transaction_1.runTransaction)(fcl, map, (0, rarible_open_bid_1.getBidCode)(fcl, name).close(currency, preparedOrderId, owner, fees), auth)];
                case 1:
                    txId = _a.sent();
                    return [2 /*return*/, (0, transaction_1.waitForSeal)(fcl, txId)];
            }
        });
    });
}
exports.fillBidOrder = fillBidOrder;
