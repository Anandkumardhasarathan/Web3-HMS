"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPreparedCadenceScript = exports.getPreparedAddressArgument = void 0;
var config_1 = require("../../config/config");
var template_replacer_1 = require("../../common/template-replacer");
var prepare_order_code_1 = require("../../tx-code-store/order/prepare-order-code");
var balance_1 = require("../../scripts/wallet/balance");
function getPreparedAddressArgument(address) {
    return dataToBase64String(JSON.stringify({ "type": "Address", "value": address }));
}
exports.getPreparedAddressArgument = getPreparedAddressArgument;
function getPreparedCadenceScript(network, currency) {
    var map = config_1.CONFIGS[network].mainAddressMap;
    switch (currency) {
        case "FLOW":
        case "FUSD":
        case "USDC":
            return dataToBase64String((0, template_replacer_1.replaceImportAddresses)((0, prepare_order_code_1.prepareFtCode)(balance_1.getBalanceScripts.common, currency), map));
        default:
            throw new Error("Flow-sdk Error: Unsupported currency");
    }
}
exports.getPreparedCadenceScript = getPreparedCadenceScript;
function dataToBase64String(data) {
    return Buffer.from(data).toString("base64");
}
