import { __awaiter, __generator } from "tslib";
import { retry } from "../../common/retry";
import { addOrderType } from "./add-order-type";
export function getPreparedOrder(orderApi, order) {
    return __awaiter(this, void 0, void 0, function () {
        var response;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (!(typeof order === "string" || typeof order === "number")) return [3 /*break*/, 2];
                    return [4 /*yield*/, retry(10, 2000, function () { return orderApi.getOrderByOrderId({ orderId: order.toString() }); })];
                case 1:
                    response = _a.sent();
                    return [2 /*return*/, addOrderType(response)];
                case 2: return [2 /*return*/, addOrderType(order)];
            }
        });
    });
}
