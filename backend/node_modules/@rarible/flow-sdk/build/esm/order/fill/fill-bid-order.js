import { __awaiter, __generator } from "tslib";
import { runTransaction, waitForSeal } from "../../common/transaction";
import { getBidCode } from "../../tx-code-store/order/rarible-open-bid";
import { getOrderId } from "../common/get-order-id";
export function fillBidOrder(fcl, auth, currency, name, map, orderId, owner, fees) {
    return __awaiter(this, void 0, void 0, function () {
        var preparedOrderId, txId;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    preparedOrderId = getOrderId(orderId);
                    return [4 /*yield*/, runTransaction(fcl, map, getBidCode(fcl, name).close(currency, preparedOrderId, owner, fees), auth)];
                case 1:
                    txId = _a.sent();
                    return [2 /*return*/, waitForSeal(fcl, txId)];
            }
        });
    });
}
