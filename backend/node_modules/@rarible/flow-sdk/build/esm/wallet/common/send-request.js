import { __awaiter, __generator } from "tslib";
import { NODE_TRANSPORT_CONFIG } from "../../config/config";
import { httpRequest } from "./http-request";
import { getPreparedAddressArgument, getPreparedCadenceScript } from "./utils";
export function sendRequest(network, currency, address) {
    return __awaiter(this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, httpRequest({
                    hostname: NODE_TRANSPORT_CONFIG[network],
                    path: "/v1/scripts?block_height=sealed",
                    method: "POST",
                    body: {
                        "script": getPreparedCadenceScript(network, currency),
                        "arguments": [getPreparedAddressArgument(address)],
                    },
                })];
        });
    });
}
