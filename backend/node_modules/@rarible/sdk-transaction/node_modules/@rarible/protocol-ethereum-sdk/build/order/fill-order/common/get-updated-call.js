"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUpdatedCalldata = void 0;
const types_1 = require("@rarible/types");
const common_1 = require("../../../config/common");
function getUpdatedCalldata(sdkConfig) {
    const callDataLength = 48;
    if (sdkConfig === null || sdkConfig === void 0 ? void 0 : sdkConfig.marketplaceMarker) {
        const hexRegexp = /^[0-9a-f]*$/i;
        const fillCalldata = (0, types_1.toBinary)(sdkConfig.marketplaceMarker).slice(2).toString();
        const isNotHexValue = !hexRegexp.test(fillCalldata);
        if (isNotHexValue) {
            throw new Error("MarketplaceMarker is not a hex value");
        }
        if (fillCalldata.length !== callDataLength) {
            throw new Error(`MarketplaceMarker has length = ${fillCalldata.length}, but should be = ${callDataLength}`);
        }
        return (0, types_1.toBinary)(`0x${fillCalldata}${common_1.FILL_CALLDATA_TAG}`);
    }
    else {
        //use default
        return (0, types_1.toBinary)(`0x${"0".repeat(callDataLength)}${common_1.FILL_CALLDATA_TAG}`);
    }
}
exports.getUpdatedCalldata = getUpdatedCalldata;
