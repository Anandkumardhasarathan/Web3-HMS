"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mapTipAmountsFromUnitsToFill = void 0;
const utils_1 = require("@rarible/utils");
function mapTipAmountsFromUnitsToFill(tips, unitsToFill, totalSize) {
    const unitsToFillBn = (0, utils_1.toBn)(unitsToFill);
    if (unitsToFillBn.isLessThanOrEqualTo(0)) {
        throw new Error("Units to fill must be greater than 0");
    }
    return tips.map(tip => (Object.assign(Object.assign({}, tip), { startAmount: multiplyDivision(tip.startAmount, unitsToFillBn, totalSize).toString(), endAmount: multiplyDivision(tip.endAmount, unitsToFillBn, totalSize).toString() })));
}
exports.mapTipAmountsFromUnitsToFill = mapTipAmountsFromUnitsToFill;
const multiplyDivision = (amount, numerator, denominator) => (0, utils_1.toBn)(amount).multipliedBy(numerator).div(denominator).integerValue(utils_1.BigNumber.ROUND_FLOOR);
