"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getBlockchainCollectionId = exports.getApiCollection = exports.getCollectionId = void 0;
const tslib_1 = require("tslib");
const api_client_1 = require("@rarible/api-client");
function getCollectionId(req) {
    if ("collection" in req) {
        return req.collection.id;
    }
    return req.collectionId;
}
exports.getCollectionId = getCollectionId;
function getApiCollection(api, req) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        return api.getCollectionById({
            collection: getCollectionId(req),
        });
    });
}
exports.getApiCollection = getApiCollection;
function getBlockchainCollectionId(contract) {
    const [blockchain] = contract.split(":");
    if (!(blockchain in api_client_1.Blockchain)) {
        throw new Error(`Unrecognized blockchain in contract ${contract}`);
    }
    return blockchain;
}
exports.getBlockchainCollectionId = getBlockchainCollectionId;
