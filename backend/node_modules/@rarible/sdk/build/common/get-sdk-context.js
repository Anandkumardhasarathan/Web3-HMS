"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSdkContext = void 0;
const tslib_1 = require("tslib");
const logger_middleware_1 = require("./logger/logger-middleware");
const packageJson = require("../../package.json");
function getSdkContext(sdkContext) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const data = Object.assign({ service: logger_middleware_1.loggerConfig.service, environment: sdkContext.env, sessionId: sdkContext.sessionId, "@version": packageJson.version }, (sdkContext.wallet ? yield (0, logger_middleware_1.getWalletInfo)(sdkContext.wallet) : {}));
        if (sdkContext.providerId !== undefined) {
            data.providerId = sdkContext.providerId;
        }
        if (sdkContext.providerMeta !== undefined) {
            data.providerMeta = JSON.stringify(sdkContext.providerMeta);
        }
        if (sdkContext.apiKey !== undefined) {
            data.apiKey = sdkContext.apiKey;
        }
        return data;
    });
}
exports.getSdkContext = getSdkContext;
