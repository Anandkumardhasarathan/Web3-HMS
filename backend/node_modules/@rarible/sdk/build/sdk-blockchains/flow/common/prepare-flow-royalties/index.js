"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.prepareFlowRoyalties = void 0;
const utils_1 = require("@rarible/utils");
const types_1 = require("@rarible/types");
const converters_1 = require("../converters");
function prepareFlowRoyalties(royalty) {
    if (royalty && royalty.length > 0) {
        return royalty.map(r => {
            if ((0, utils_1.toBn)(r.value).gt(10000)) {
                throw new Error("Value for royalty too big");
            }
            const account = (0, converters_1.parseFlowAddressFromUnionAddress)(r.account);
            return {
                account,
                value: (0, types_1.toBigNumber)((0, utils_1.toBn)(r.value).div(10000).toString()),
            };
        });
    }
    return [];
}
exports.prepareFlowRoyalties = prepareFlowRoyalties;
