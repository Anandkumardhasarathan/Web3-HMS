"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDecimals = void 0;
const tslib_1 = require("tslib");
const erc20_1 = require("../order/contracts/erc20");
function getDecimals(ethereum, assetType) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        switch (assetType.assetClass) {
            case "ETH":
                return 18;
            case "ERC20":
                const decimals = yield (0, erc20_1.createErc20Contract)(ethereum, assetType.contract).functionCall("decimals").call();
                return Number(decimals);
            default:
                throw new Error(`Asset type should be either ETH or ERC-20, received=${JSON.stringify(assetType)}`);
        }
    });
}
exports.getDecimals = getDecimals;
